<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<style>
  /* {{FONT_CSS}} will be injected by generator (base64 fonts) */
  {{FONT_CSS}}

  @page { size: A4; margin: 0; }
  html, body { margin: 0; padding: 0; width: 210mm; height: 297mm; }
  body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }

  .page { position: relative; width: 210mm; height: 297mm; overflow: hidden; background: #fff; }
  .top-photo { position: absolute; left: 0; top: 0; width: 100%; height: 46.5%; background-image: url('{{COVER_BG}}'); background-size: cover; background-position: center; }

  /* Title block positions tuned to match reference proportions (plenty of white space) */
  .block { position: absolute; left: 0; right: 0; top: 49%; text-align: center; }

  .mainTitle { font-family: Merriweather, serif; font-weight: 400; font-size: 52px; line-height: 1.08; margin: 0; }
  .confidential { font-family: Merriweather, serif; font-weight: 900; font-style: italic; font-size: 64px; line-height: 1.02; margin: 10px 0 0 0; }
  .financeMemo { font-family: Merriweather, serif; font-weight: 900; font-style: italic; font-size: 64px; line-height: 1.02; margin: -6px 0 0 0; }

  .construction { font-family: Merriweather, serif; font-weight: 700; font-size: 42px; line-height: 1.05; margin: 18px 0 0 0; }

  .projectName { font-family: Raleway, sans-serif; font-weight: 600; font-size: 40px; line-height: 1.15; margin: 38px 0 0 0; color: #2b2b2b; }
  .amount { font-family: Raleway, sans-serif; font-weight: 600; font-size: 44px; line-height: 1.1; margin: 22px 0 0 0; color: #b7bcc2; }

  .date { font-family: Raleway, sans-serif; font-weight: 500; font-size: 15px; line-height: 1.1; margin: 14px 0 0 0; color: #7a7a7a; }

  .refline { font-family: Raleway, sans-serif; font-weight: 500; font-size: 16px; line-height: 1.2; margin: 26px 0 0 0; color: #2b2b2b; }
  .companyLine { font-family: Raleway, sans-serif; font-weight: 500; font-size: 13px; line-height: 1.25; margin: 10px 0 0 0; color: #2b2b2b; }

  /* Auto-fit wrapper: we clamp widths so long text doesn't overflow */
  .fit { display: inline-block; max-width: 86%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

  /* Footer reference-style block (optional, but you can map your field to this) */
  .footer { position: absolute; left: 18mm; right: 18mm; bottom: 14mm; font-family: Raleway, sans-serif; }
  .footer .site { font-size: 18px; letter-spacing: 6px; color: #2aa9b2; margin-bottom: 4px; }
  .footer .small { font-size: 11px; line-height: 1.35; color: #444; }
</style>
</head>
<body>
  <div class="page">
    <div class="top-photo"></div>

    <div class="block">
      <div class="mainTitle"><span class="fit">{{mainTitle}}</span></div>
      <div class="confidential"><span class="fit">{{confidentialLine}}</span></div>
      <div class="financeMemo"><span class="fit">{{financeMemoLine}}</span></div>

      <div class="construction"><span class="fit">{{constructionLine}}</span></div>

      <div class="projectName"><span class="fit">{{projectName}}</span></div>
      <div class="amount"><span class="fit">{{loanAmount}}</span></div>

      <div class="date"><span class="fit">{{dateText}}</span></div>

      <div class="refline"><span class="fit">{{referenceLine}}</span></div>
      <div class="companyLine"><span class="fit">{{companyLine}}</span></div>
    </div>

    <!-- Optional footer (reference-like) -->
    {%FOOTER%}
  </div>

<script>
  // Ensure fonts are fully loaded before printing to PDF
  (async () => {
    try { await document.fonts.ready; } catch(e) {}
  })();
</script>
</body>
</html>
